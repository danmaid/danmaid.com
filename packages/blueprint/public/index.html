<!DOCTYPE html>
<html>
  <head>
    <title>index</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="matrix-code.js"></script>
    <style>
      :root {
        background-color: #000;
        color: #eee;
      }
    </style>
  </head>
  <body style="height: 100vh; margin: 0; padding: 8px; box-sizing: border-box">
    <div style="display: flex; flex-direction: column; height: 100%">
      <aside onchange="tabChange()">
        <label><input type="radio" name="tab" value="console" checked />console</label>
        <label><input type="radio" name="tab" value="todos" />todos</label>
        <label><input type="radio" name="tab" value="receipts" />receipts</label>
      </aside>
      <main style="flex: 1 1">
        <iframe id="frame" src="console.html" style="width: 100%; height: 100%; border: none"></iframe>
      </main>
    </div>
    <dm-matrix-code
      src="/"
      style="position: fixed; top: 0; left: 0; bottom: 0; right: 0; z-index: -999"
    ></dm-matrix-code>

    <script>
      async function tabChange() {
        const tabs = document.getElementsByName('tab')
        const tab = Array.from(tabs).find((v) => v.checked)
        const frame = document.getElementById('frame')
        frame.src = `${tab.value}.html`
        frame.onload = () => {
          const root = frame.contentDocument.documentElement
          root.style.backgroundColor = 'transparent'
          root.style.color = '#eee'
        }
      }
    </script>
  </body>
</html>
